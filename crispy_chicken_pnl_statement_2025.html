<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Corporate Operations Dashboard</title>

<style>
body{font-family:Arial;background:#f4f6f8;padding:20px}
h1,h2{color:#b30000}
.box{background:#fff;padding:20px;border-radius:8px;margin-bottom:20px}
label{display:block;font-weight:bold;margin-top:10px}
input,select{width:100%;padding:8px;margin-top:5px}
button{margin-top:15px;padding:10px;background:#b30000;color:#fff;border:none}
table{width:100%;border-collapse:collapse;margin-top:15px}
th,td{border:1px solid #ccc;padding:8px;text-align:center}
th{background:#eee}
.green{color:green;font-weight:bold}
.red{color:red;font-weight:bold}
</style>
</head>

<body>

<h1>Corporate Fast Food Operations System</h1>

<!-- DATA ENTRY -->
<div class="box">
<h2>Daily Branch Entry</h2>

<label>Branch</label>
<input id="branch">

<label>Date</label>
<input type="date" id="date">

<label>Sales (AED)</label>
<input type="number" id="sales">

<label>Target (AED)</label>
<input type="number" id="target">

<label>Transactions (TRC)</label>
<input type="number" id="trc">

<label>Staff</label>
<input type="number" id="staff">

<label>Complaints</label>
<input type="number" id="complaints">

<button onclick="save()">Save</button>
</div>

<!-- DASHBOARD -->
<div class="box">
<h2>Corporate Dashboard</h2>
<p><strong>Total Sales:</strong> <span id="tSales">0</span></p>
<p><strong>Achievement %:</strong> <span id="tAch">0%</span></p>
<p><strong>Avg Ticket:</strong> <span id="tAvg">0</span></p>
</div>

<!-- TABLE -->
<div class="box">
<h2>Branch Performance</h2>
<table id="table">
<tr>
<th>Branch</th><th>Date</th><th>Sales</th><th>Target</th>
<th>Ach %</th><th>TRC</th><th>Complaints</th>
</tr>
</table>
</div>

<script>
let data = JSON.parse(localStorage.getItem("corpOps")) || [];

function save(){
 let r={
  branch:branch.value,
  date:date.value,
  sales:+sales.value,
  target:+target.value,
  trc:+trc.value,
  complaints:+complaints.value
 };
 data.push(r);
 localStorage.setItem("corpOps",JSON.stringify(data));
 render(); calc();
 document.querySelectorAll("input").forEach(i=>i.value="");
}

function render(){
 let t=document.getElementById("table");
 t.innerHTML=`<tr>
 <th>Branch</th><th>Date</th><th>Sales</th><th>Target</th>
 <th>Ach %</th><th>TRC</th><th>Complaints</th></tr>`;
 data.forEach(r=>{
  let ach=r.target?((r.sales/r.target)*100).toFixed(1):0;
  t.innerHTML+=`
  <tr>
   <td>${r.branch}</td>
   <td>${r.date}</td>
   <td>${r.sales}</td>
   <td>${r.target}</td>
   <td class="${ach>=100?'green':'red'}">${ach}%</td>
   <td>${r.trc}</td>
   <td>${r.complaints}</td>
  </tr>`;
 });
}

function calc(){
 let s=data.reduce((a,b)=>a+b.sales,0);
 let t=data.reduce((a,b)=>a+b.target,0);
 let trc=data.reduce((a,b)=>a+b.trc,0);
 document.getElementById("tSales").innerText=s;
 document.getElementById("tAch").innerText=t?((s/t)*100).toFixed(1)+"%":"0%";
 document.getElementById("tAvg").innerText=trc?(s/trc).toFixed(2):0;
}

render(); calc();
</script>

</body>
</html>
